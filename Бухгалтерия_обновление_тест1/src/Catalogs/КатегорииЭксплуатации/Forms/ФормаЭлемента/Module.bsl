
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("АвтоТест") Тогда
		Возврат;
	КонецЕсли;

	ОбновлениеИнформационнойБазы.ПроверитьОбъектОбработан(Объект, ЭтотОбъект);
	
	Если Не ЗначениеЗаполнено(Объект.Ссылка) Тогда
		ПриСозданииЧтенииНаСервере();
	КонецЕсли;
	
КонецПроцедуры

&НаСервере
Процедура ПриЧтенииНаСервере(ТекущийОбъект)
	
	ПриСозданииЧтенииНаСервере();
	
КонецПроцедуры

&НаКлиенте
Процедура ОбработкаОповещения(ИмяСобытия, Параметр, Источник)
	
	//++ НЕ УТ
	НастройкаСчетовУчетаКлиент.ЗаконченаНастройкаСчетовУчета(ЭтотОбъект, ИмяСобытия, Параметр);
	//-- НЕ УТ
	Возврат; // В УТ обработчик пустой
	
КонецПроцедуры

&НаСервере
Процедура ПриЗаписиНаСервере(Отказ, ТекущийОбъект, ПараметрыЗаписи)
	
	Если Отказ Тогда
		Возврат;
	КонецЕсли;
	
	//++ НЕ УТ
	НастройкаСчетовУчета.ПриЗаписиОбъектаНастройкиСчетовУчета(ЭтотОбъект, Отказ, ТекущийОбъект, ПараметрыЗаписи);
	//-- НЕ УТ
	
КонецПроцедуры

&НаСервере
Процедура ОбработкаПроверкиЗаполненияНаСервере(Отказ, ПроверяемыеРеквизиты)
	
	Если Отказ Тогда
		Возврат;
	КонецЕсли;
	
	//++ НЕ УТ
	НастройкаСчетовУчета.ОбработкаПроверкиЗаполнения(ЭтотОбъект, Отказ, ПроверяемыеРеквизиты);
	//-- НЕ УТ
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовФормы


&НаКлиенте
Процедура СсылкаНастройкаСчетовУчетаОбработкаНавигационнойСсылки(Элемент, НавигационнаяСсылкаФорматированнойСтроки, СтандартнаяОбработка)
	
	//++ НЕ УТ
	НастройкаСчетовУчетаКлиент.ОбработкаНавигационнойСсылкиНастройкаСчетовУчета(
		ЭтотОбъект, НавигационнаяСсылкаФорматированнойСтроки, СтандартнаяОбработка);
	//-- НЕ УТ
	Возврат; // В УТ обработчик пустой
		
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура ПриСозданииЧтенииНаСервере()
	
//++ НЕ УТ
	ПоказыватьСчета = НЕ (Объект.ВидТМЦ = Перечисления.ВидыТМЦВЭксплуатации.МалоценныйБыстроизнашивающийсяПредмет
							 ИЛИ Объект.ВидТМЦ = Перечисления.ВидыТМЦВЭксплуатации.ПустаяСсылка());
	Элементы.ГруппаСчетов.Видимость = ПоказыватьСчета;
	
	НастройкаСчетовУчета.ПриЧтенииСозданииОбъектаНастройкиСчетовУчета(ЭтотОбъект);
//-- НЕ УТ
	Возврат; // В УТ обработчик пустой
	
КонецПроцедуры

//++ НЕ УТ

&НаКлиенте
Процедура УстановитьДоступностьЭлементовФормы()
	
	ПоказыватьСчета = НЕ (Объект.ВидТМЦ = ПредопределенноеЗначение("Перечисление.ВидыТМЦВЭксплуатации.МалоценныйБыстроизнашивающийсяПредмет")
							ИЛИ Объект.ВидТМЦ = ПредопределенноеЗначение("Перечисление.ВидыТМЦВЭксплуатации.ПустаяСсылка"));
	Элементы.ГруппаСчетов.Видимость = ПоказыватьСчета;		
	
КонецПроцедуры

&НаКлиенте
Процедура ВидТМЦПриИзменении(Элемент)
	УстановитьДоступностьЭлементовФормы();
	УстановитьСчетаУчетаТМЦВЭксплуатации();
КонецПроцедуры

&НаСервере
Процедура УстановитьСчетаУчетаТМЦВЭксплуатации()
	
	Если Объект.ВидТМЦ = Перечисления.ВидыТМЦВЭксплуатации.МалоценныйНеоборотныйАктив Тогда
		НастройкаСчетовУчета_СчетУчета_ТМЦВЭксплуатации				= ПланыСчетов.Хозрасчетный.МалоценныеНеоборотныеМатериальныеАктивыКоличественно;
		НастройкаСчетовУчета_СчетУчета_ТМЦВЭксплуатацииАмортизация	= ПланыСчетов.Хозрасчетный.ИзносДругихНеоборотныхМатериальныхАктивовКоличественно;
	ИначеЕсли Объект.ВидТМЦ = Перечисления.ВидыТМЦВЭксплуатации.БиблиотечныеФонды Тогда
		НастройкаСчетовУчета_СчетУчета_ТМЦВЭксплуатации				= ПланыСчетов.Хозрасчетный.БиблиотечныеФондыКоличественно; 
		НастройкаСчетовУчета_СчетУчета_ТМЦВЭксплуатацииАмортизация	= ПланыСчетов.Хозрасчетный.ИзносДругихНеоборотныхМатериальныхАктивовКоличественно;
	Иначе
		НастройкаСчетовУчета_СчетУчета_ТМЦВЭксплуатации				= ПланыСчетов.Хозрасчетный.ПустаяСсылка(); 
		НастройкаСчетовУчета_СчетУчета_ТМЦВЭксплуатацииАмортизация	= ПланыСчетов.Хозрасчетный.ПустаяСсылка();
	КонецЕсли; 
	
КонецПроцедуры

//-- НЕ УТ

#КонецОбласти